<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="paymentDAOTemplate">

	<!-- 결제 등록 -->
	<insert id="insertPayment">
		<selectKey keyProperty="payment_no" resultType="int" order="BEFORE">
			select payment_seq.nextval from dual
		</selectKey>
		insert into payment(
			payment_no, members_no, flight_no, hotel_no, activity_no, lantrip_no,
			payment_bookdate, payment_quantity, payment_price
		)
		values(
			#{payment_no}, #{members_no}, #{flight_no}, #{hotel_no}, #{activity_no}, #{lantrip_no}, 
			#{payment_bookdate}, #{payment_quantity}, #{payment_price}
		)
	</insert>
	
	<!-- 결제 정보 리스트 회원 -->
	<select id="getPayList" resultType="com.tjoeunit.biz.payment.PaymentVO">
		<![CDATA[
			select * from payment where members_no=#{members_no} order by payment_no desc
		]]>
	</select>
</mapper>
