<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="membersDAOTemplate">
	
	<insert id="insertMembers">	
		<selectKey keyProperty="members_no" resultType="int" order="BEFORE">
			select members_seq.nextval from dual
		</selectKey>	
		insert into members(members_no, members_id, members_pw, members_name,
			members_tel, members_email, members_gender,
			members_zipcode, members_address, members_address_detail)
		values(
			#{members_no}, #{members_id}, #{members_pw}, #{members_name},
			#{members_tel}, #{members_email}, #{members_gender},
			#{members_zipcode}, #{members_address},	#{members_address_detail})	
	</insert>

	<select id="checkIdDup" parameterType="string" resultType="int">
		select count(*) from members
		where members_id=#{members_id}
	</select>
	
	<select id="checkMembersPw" parameterType="string" resultType="string">
		select members_pw from members
		where members_id=#{members_id}
	</select>
	
	<select id="selectByMembersId" resultType="com.tjoeunit.biz.members.MembersVO">
		select * from members
		where members_id=#{members_id}
	</select>
</mapper>